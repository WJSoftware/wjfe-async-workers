var p=s=>{throw TypeError(s)};var A=(s,n,o)=>n.has(s)||p("Cannot "+o);var f=(s,n,o)=>(A(s,n,"read from private field"),o?o.call(s):n.get(s)),w=(s,n,o)=>n.has(s)?p("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(s):n.set(s,o),h=(s,n,o,l)=>(A(s,n,"write to private field"),l?l.call(s,o):n.set(s,o),o);(function(){"use strict";var u,c,d;class s{constructor(t){w(this,u);w(this,c);w(this,d);if(!crossOriginIsolated)throw new Error("Cannot operate:  Cross origin is not isolated. See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer#security_requirements for details.");h(this,u,new SharedArrayBuffer(8)),h(this,c,new Int32Array(f(this,u))),h(this,d,t),Atomics.store(f(this,c),1,t)}get token(){return f(this,c)}signal(){Atomics.store(f(this,c),0,1)}}u=new WeakMap,c=new WeakMap,d=new WeakMap;function n(e,t,r,a){if(Atomics.load(e,1)!==t)throw new Error(`The provided token is not that of ${a} ${r}.`)}const o=1,l=[o,"manually-reset event","a"];class y extends s{constructor(){super(o)}signal(){super.signal(),Atomics.notify(super.token,0)}reset(){Atomics.store(super.token,0,0)}static isSignalled(t){return n(t,...l),Atomics.load(t,0)===1}static wait(t,r){return n(t,...l),Atomics.wait(t,0,0,r)}static async waitAsync(t,r){n(t,...l);const a=Atomics.waitAsync(t,0,0,r);return a.async?await a.value:a.value}}class g extends Error{constructor(t,r){super(t,r)}}class k extends y{reset(){throw new Error("Cancellation tokens cannot be reset.")}static throwIfSignalled(t){if(t&&this.isSignalled(t))throw new g}}function I(e){return typeof e.workItemId=="number"&&e.task&&typeof e.task=="string"}function m(e,t,r){self.postMessage({workItemId:e,payload:t},r)}function S(e){return t=>{if(!I(t.data))return;const r=e[t.data.task];if(typeof r!="function"){console.warn('Async message with task "$s" yields no task function.');return}try{const a=r(t.data.payload,m.bind(null,t.data.workItemId),t.data.cancelToken);m(t.data.workItemId,a)}catch(a){a instanceof g&&m(t.data.workItemId,{_$cancelled:!0})}}}function b(e,t){for(let r=2;r<=e/2;++r)if(k.throwIfSignalled(t),e%r===0)return!1;return!0}function E(e,t,r){for(let a=2;a<=e/2;++a)if(k.throwIfSignalled(r),y.wait(t),e%a===0)return!1;return!0}function P(e,t,r,a){let C=t?i=>E(i,t,a):i=>b(i,a);for(let i=1;i<e;++i)C(i)&&r(i)}const x={sayHello(e){console.log("Hello, %s!",e.name)},calculatePrimes(e,t,r){P(e.to,e.pause,t,r)}};self.onmessage=S(x)})();
