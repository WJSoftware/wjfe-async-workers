var k=n=>{throw TypeError(n)};var p=(n,i,o)=>i.has(n)||k("Cannot "+o);var l=(n,i,o)=>(p(n,i,"read from private field"),o?o.call(n):i.get(n)),h=(n,i,o)=>i.has(n)?k("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(n):i.set(n,o),w=(n,i,o,u)=>(p(n,i,"write to private field"),u?u.call(n,o):i.set(n,o),o);(function(){"use strict";var f,c,d;class n{constructor(t,r=0){h(this,f);h(this,c);if(globalThis.crossOriginIsolated!==void 0&&!crossOriginIsolated)throw new Error("Cannot operate:  Cross origin is not isolated. See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer#security_requirements for details.");w(this,f,new SharedArrayBuffer(8)),w(this,c,new Int32Array(l(this,f))),Atomics.store(l(this,c),1,t),Atomics.store(l(this,c),0,r)}get token(){return l(this,c)}}f=new WeakMap,c=new WeakMap;class i extends n{constructor(r,s){super(r);h(this,d);w(this,d,s)}signal(){Atomics.store(this.token,0,1),Atomics.notify(this.token,0,l(this,d))}}d=new WeakMap;const o=[1,"manually-resettable event","a"],u=[3,"cancellation source","a"];function m(e,t,r,s){if(Atomics.load(e,1)!==t)throw new Error(`The provided token is not that of ${s} ${r}.`)}function g(e,t){return m(t,...e),Atomics.load(t,0)===1}function b(e,t,r){return m(t,...e),Atomics.wait(t,0,0,r)}async function E(e,t,r){m(t,...e);const s=Atomics.waitAsync(t,0,0,r);return s.async?await s.value:s.value}class A extends i{constructor(){super(o[0],void 0)}reset(){Atomics.store(super.token,0,0)}static isSignaled(t){return g(o,t)}static wait(t,r){return b(o,t,r)}static waitAsync(t,r){return E(o,t,r)}}class I extends Error{constructor(t,r){super(t,r)}}class S extends i{constructor(){super(u[0],void 0)}static isSignaled(t){return g(u,t)}static throwIfSignaled(t){if(t&&this.isSignaled(t))throw new I}}function x(e){return typeof e.workItemId=="number"&&e.task&&typeof e.task=="string"}function y(e,t,r){self.postMessage({workItemId:e,payload:t},r)}function P(e){return t=>{if(!x(t.data))return;const r=e[t.data.task];if(typeof r!="function"){console.warn('Async message with task "$s" yields no task function.');return}try{const s=r(t.data.payload,y.bind(null,t.data.workItemId),t.data.cancelToken);y(t.data.workItemId,s)}catch(s){s instanceof I&&y(t.data.workItemId,{_$cancelled:!0})}}}function T(e,t){for(let r=2;r<=e/2;++r)if(S.throwIfSignaled(t),e%r===0)return!1;return!0}function O(e,t,r){for(let s=2;s<=e/2;++s)if(S.throwIfSignaled(r),A.isSignaled(t)||A.wait(t),e%s===0)return!1;return!0}function C(e,t,r,s){let v=t?a=>O(a,t,s):a=>T(a,s);for(let a=1;a<e;++a)v(a)&&r(a)}const $={iExistToShowOffIntellisense(e){console.log("Hello, %s!",e.name)},calculatePrimes(e,t,r){C(e.to,e.pause,t,r)}};self.onmessage=P($)})();
